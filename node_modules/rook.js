function isLegalRook(move, board) {
  if (move.start.num - move.end.num === 0 && move.start.alf - move.end.alf !== 0) {
    return checkRank(move, board);
  } else if (move.start.num - move.end.num !== 0 && move.start.alf - move.end.alf === 0) {
    return checkFile(move, board);
  } else {
    return false;
  }
}

function checkRank(move, board) {
  //check movement along a rank (alf, second number, file changes)
  var dist = Math.abs(move.start.alf - move.end.alf);
  var dir = Math.sign(move.end.alf - move.start.alf);
  for (var i = 1; i < dist; i++) {
    if (board.hasPiece(move.start.num, move.start.alf + dir * i)) {
      return false;
    }
  }
  return true;
}

function checkFile(move, board) {
  //check movement along a file (num, first number, rank changes)
  var dist = Math.abs(move.start.num - move.end.num);
  var dir = Math.sign(move.end.num - move.start.num);
  for (var i = 1; i < dist; i++) {
    if (board.hasPiece(move.start.num + dir * i, move.start.alf)) {
      return false;
    }
  }
  return true;
}

// export { isLegalRook, checkRank, checkFile };
module.exports.isLegalRook = isLegalRook;
module.exports.checkRank = checkRank;
module.exports.checkFile = checkFile;
